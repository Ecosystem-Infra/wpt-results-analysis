<!doctype HTML>
<meta charset="utf-8" /> 

<title>2021 DevSat Compat Dashboard</title>

<script src="https://www.gstatic.com/charts/loader.js"></script>
<script src="compat.js"></script>

<style>
.chart {
  /* Reserve vertical space to avoid layout pop. Should be kept in sync with
     the JavaScript defined height. */
  height: 350px;
}
</style>

<h1>2021 DevSat Compat Dashboard</h1>
<p>Click + drag on graphs to zoom, right click to un-zoom</p>

<h2>css-flexbox</h2>

<h3>Chart</h2>
<!-- TODO: add controls to select stable-vs-experimental -->
<!-- TODO: add controls to select category -->
<div id="failures-chart" class="chart"></div>

<h3>Tests</h2>
<p>Results in this table are not live. For up-to-date results, visit <a href="https://wpt.fyi">wpt.fyi</a></p>

<!-- TODO: The table should be styled to be easier to read -->
<!-- TODO: The table should be sortable -->
<!-- TODO: The table should be filterable -->
<table id="testsTable">
  <thead>
    <tr>
      <th>Test name</th>
      <th>Chrome</th>
      <th>Firefox</th>
      <th>Safari</th>
  </thead>
  <tbody>
  </tbody>
</table>

<script>
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(async () => {
  renderFailuresChart();
});

addEventListener('load', () => {
  loadTestList();
});
</script>
